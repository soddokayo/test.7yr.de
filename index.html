<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>KKOCCHI TEST</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
</head>
<body class="container">
	<article class="start">
		<h1 class="mt-5 text-center">나랑 닮은 이별후반응은?</h1>
		<button type="button" class="btn btn-primary" onclick='start();'>테스트 시작하기</button>
	</article>
	<article class="question">
		<div class="progress">
			<div class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"> 
			</div></div>

		<h2 id="title" class="text-center mt-5">문제</h2>
		<input id="type" type="hidden" value="EI">
		<button id="A" type="button" class="btn btn-primary mt-5">Primary1</button>
		<button id="B" type="button" class="btn btn-primary mt-5">Primary2</button>
	</article>
	<article class="result">
		<img id="img" class="rounded-circle mt-5" src="rsc/flower.jpg" alt="categoryimg">
		<h2 id="category" class="text-center mt-5">카테고리</h2>
		<h3 id="explain" class="text-center mt-5">설명</h3>
	</article>
	<input type="hidden" id="EI" value="0">
	<input type="hidden" id="SN" value="0">
	<input type="hidden" id="TF" value="0">
	<input type="hidden" id="JP" value="0">

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
	<script>
		var num = 1;
		var q = {
			1: {"title": "Q1", "type": "EI", "A": "E", "B": "I"},
			2: {"title": "Q2", "type": "EI", "A": "E", "B": "I"}, 
			3: {"title": "Q3", "type": "EI", "A": "E", "B": "I"}, 
			4: {"title": "Q4", "type": "SN", "A": "S", "B": "N"}, 
			5: {"title": "Q5", "type": "SN", "A": "S", "B": "N"}, 
			6: {"title": "Q6", "type": "SN", "A": "S", "B": "N"}, 
			7: {"title": "Q7", "type": "TF", "A": "T", "B": "F"}, 
			8: {"title": "Q8", "type": "TF", "A": "T", "B": "F"}, 
			9: {"title": "Q9", "type": "TF", "A": "T", "B": "F"}, 
			10: {"title": "Q10", "type": "JP", "A": "J", "B": "P"}, 
			11: {"title": "Q11", "type": "JP", "A": "J", "B": "P"}, 
			12: {"title": "Q12", "type": "JP", "A": "J", "B": "P"}, 
		}
		var result = {
			"ESTJ": {"category": "ESTJ-category", "explain": "ESTJ-explain", "img": "rsc/ESTJ.jpg"},
			"ESTP": {"category": "ESTP-category", "explain": "ESTP-explain", "img": "rsc/ESTP.jpg"},
			"ESFJ": {"category": "ESFJ-category", "explain": "ESFJ-explain", "img": "rsc/ESFJ.jpg"},
			"ESFP": {"category": "ESFP-category", "explain": "ESFP-explain", "img": "rsc/ESFP.jpg"},
			"ENTJ": {"category": "ENTJ-category", "explain": "ENTJ-explain", "img": "rsc/ENTJ.jpg"},
			"ENTP": {"category": "ENTP-category", "explain": "ENTP-explain", "img": "rsc/ENTP.jpg"},
			"ENFJ": {"category": "ENFJ-category", "explain": "ENFJ-explain", "img": "rsc/ENFJ.jpg"},
			"ENFP": {"category": "ENFP-category", "explain": "ENFP-explain", "img": "rsc/ENFP.jpg"},
			"ISTJ": {"category": "ISTJ-category", "explain": "ISTJ-explain", "img": "rsc/ISTJ.jpg"},
			"ISTP": {"category": "ISTP-category", "explain": "ISTP-explain", "img": "rsc/ISTP.jpg"},
			"ISFJ": {"category": "ISFJ-category", "explain": "ISFJ-explain", "img": "rsc/ISFJ.jpg"},
			"ISFP": {"category": "ISFP-category", "explain": "ISFP-explain", "img": "rsc/ISFP.jpg"},
			"INTJ": {"category": "INTJ-category", "explain": "INTJ-explain", "img": "rsc/INTJ.jpg"},
			"INTP": {"category": "INTP-category", "explain": "INTP-explain", "img": "rsc/INTP.jpg"},
			"INFJ": {"category": "INFJ-category", "explain": "INFJ-explain", "img": "rsc/INFJ.jpg"},
			"INFP": {"category": "INFP-category", "explain": "INFP-explain", "img": "rsc/INFP.jpg"}
		}
		function start() {
			$(".start").hide();
			$(".question").show();
			next();
		}
		$("#A").click(function(){
			var type = $("#type").val();
			var preValue = $("#"+type).val();
			$("#"+type).val(parseInt(preValue)+1);
			next();
		});
		$("#B").click(function(){
			next();
		});
		function next() {
			if(num==13){
				$(".question").hide();
				$(".result").show();

				var mbti = "";
				($("#EI").val() >= 2) ? mbti+="E" : mbti+="I";
				($("#SN").val() >= 2) ? mbti+="S" : mbti+="N";
				($("#TF").val() >= 2) ? mbti+="T" : mbti+="F";
				($("#JP").val() >= 2) ? mbti+="J" : mbti+="P";
				alert(mbti);
				$("#img").attr("src",result[mbti]["img"]);
				$("#category").html(result[mbti]["category"]);
				$("#explain").html(result[mbti]["explain"]);
			} else {
				$(".progress-bar").attr('style','width: calc(100/12*'+num+'%)');
				$("#title").html(q[num]["title"]);
				$("#type").val(q[num]["type"]);
				$("#A").html(q[num]["A"]);
				$("#B").html(q[num]["B"]);
				num++;
			}
		}
	</script>


</body>
</html>
